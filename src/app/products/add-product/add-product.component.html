<div class="container">
    <div [hidden]="submitted">
      <h1>New Product</h1>
      <form (ngSubmit)="onSubmit()" #heroForm="ngForm">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name"
                 required
                 [(ngModel)]="model.name" name="name"
                 #name="ngModel">
          <div [hidden]="name.valid || name.pristine"
               class="alert alert-danger">
            Name is required
          </div>
        </div>

        <div class="form-group">
            <label for="name">Description</label>
            <input type="text" class="form-control" id="description"
                   required
                   [(ngModel)]="model.description" name="description"
                   #description="ngModel">
            <div [hidden]="description.valid || description.pristine"
                 class="alert alert-danger">
                 Description is required
            </div>
          </div>
  
          <div class="form-group">
            <label for="name">Price</label>
            <input type="number" class="form-control" id="price"
                   required
                   [(ngModel)]="model.price" name="price"
                   #price="ngModel">
            <div [hidden]="price.valid || price.pristine"
                 class="alert alert-danger">
                 price is required
            </div>
          </div>
  
          <div class="form-group">
            <label for="categoryId">Category</label>
            <select class="form-control" id="categoryId"
                    required
                    [(ngModel)]="model.categoryId" name="categoryId"
                    #categoryId="ngModel">
              <option *ngFor="let cat of categories" [value]="cat.id">{{cat.name}}</option>
            </select>
            <div [hidden]="categoryId.valid || categoryId.pristine" class="alert alert-danger">
                category is required
            </div>
          </div>
          <br/>
        <button type="button" mat-mini-fab color="primary" class="upload-btn"
                    (click)="fileUpload.click()">
                    <mat-icon>attach_file</mat-icon>
        </button>
        <span *ngIf='image'>file uploaded</span>

            <br/>       
            <br/>       
        <button type="submit" class="btn btn-success" [disabled]="!heroForm.form.valid">Submit</button>
        <!-- <button type="button" class="btn btn-default" (click)="newHero(); heroForm.reset()">New Hero</button> -->
      </form>
      
      <div>

    </div>
    </div>
    <input type="file" class="file-input" style="visibility: hidden;"
    (change)="onFileSelected($event)" #fileUpload>
  </div>